var $jscomp={scope:{},executeAsyncGenerator:function(a){function b(b){return a.next(b)}function c(b){return a["throw"](b)}return new Promise(function(d,e){function f(a){a.done?d(a.value):Promise.resolve(a.value).then(b,c).then(f,e)}f(a.next())})}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.EXPOSE_ASYNC_EXECUTOR=!0;$jscomp.FORCE_POLYFILL_PROMISE=!1;
var frame={height:1200,width:1200},name_params={left:254.86,top:87.9,width:800,height:254.86,textAlign:"center",fontFamily:"Shadows Into Light",fontSize:100,fill:"white",fontWeight:"bold"},reason_params={top:699.81,left:63.43,height:240,width:1060,textAlign:"center",fontFamily:"Shadows Into Light",fontSize:100,fill:"white",fontWeight:"bold"},how_params={top:441.47,left:218.15,width:760.52,height:129.93,textAlign:"center",fontFamily:"Shadows Into Light",fontSize:100,fill:"white",fontWeight:"bold"},
canvas=null,fabric_frame=null,name=null,name_text=null,reason=null,reason_text=null,how=null,how_text=null,voted=null;
window.onload=function(){return $jscomp.executeAsyncGenerator(function(){function a(a,c){for(;;)switch(b){case 0:name=sessionStorage.getItem("name");reason=sessionStorage.getItem("reason");how=sessionStorage.getItem("how");voted=sessionStorage.getItem("voted");if(null==name||null==reason||null==how)alert("You haven't filled out the proper fields in the form. You will be redirected to the main page."),$(location).attr("href","index.html");else{canvas=new fabric.StaticCanvas("c");var d=document.getElementById("frame");
"true"==voted&&(d.src="images/IVoted.png",name_params.left=271.69,name_params.top=54.29,name_params.width=763.41,name_params.height=123.82,document.getElementById("test-name").style.width="763.41 px",reason_params.left=47.58,reason_params.top=700.82,reason_params.width=1105.44,reason_params.height=242.84,document.getElementById("test-reason").style.width="1105.44 px");fabric_frame=new fabric.Image(d);canvas.sendToBack(fabric_frame);document.fonts.load("100pt Shadows Into Light").then(function(){return $jscomp.executeAsyncGenerator(function(){function a(a,
c){for(;;)switch(b){case 0:"true"==voted?d.onload=function(){insertText();generateGraphic()}:(insertText(),generateGraphic()),b=-1;default:return{value:void 0,done:!0}}}var b=0,c={next:function(b){return a(b,void 0)},"throw":function(b){return a(void 0,b)},"return":function(a){throw Error("Not yet implemented");}};$jscomp.initSymbolIterator();c[Symbol.iterator]=function(){return this};return c}())})["catch"](function(a){return console.log("Font error:",a)})}b=-1;default:return{value:void 0,done:!0}}}
var b=0,c={next:function(b){return a(b,void 0)},"throw":function(b){return a(void 0,b)},"return":function(a){throw Error("Not yet implemented");}};$jscomp.initSymbolIterator();c[Symbol.iterator]=function(){return this};return c}())};
function insertText(){var a=document.getElementById("test-reason");a.innerHTML=reason;var a=a.clientHeight+1,b=document.getElementById("test-name");b.innerHTML=name;var b=b.clientHeight+1,c=reason_params.height,d=name_params.height;a>reason_params.height&&(reason_params.fontSize=100/a*c);b>name_params.height&&(name_params.fontSize=100/b*d);name_text=new fabric.Textbox(name,name_params);reason_text=new fabric.Textbox(reason,reason_params);"true"==voted&&(how_text=new fabric.Textbox(how,how_params),
canvas.add(how_text));canvas.add(name_text);canvas.add(reason_text)}function generateGraphic(){var a=canvas.toDataURL();$("#pledge-graphic").attr("src",a);$("#download").attr("href",a)};
